(function(){"use strict";var t={3715:function(t,e,a){var o=a(9242),r=a(3396);function n(t,e,a,o,n,s){const i=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(i)}var s=a(9320),i={components:{ProductView:s["default"]},data(){return{cartTotal:0}},provide(){return{cartTotal:this.cartTotal}},methods:{updateCartTotal(t){this.cartTotal+=t.count},updateCarts(t){this.cartTotal=t},isActive(t){return this.$route.path===t}},created(){}},c=a(89);const l=(0,c.Z)(i,[["render",n]]);var u=l,d=a(2483);const h=(0,r.uE)('<section class="home" id="home"><div class="home-text"><h1>新品上市</h1><p>發掘獨特風格，穿上VogueThreads，讓你的時尚故事獨一無二</p><a href="#" class="btns">點擊查看</a></div></section><div class="container"></div><div class="container"><section class="new" id="new"><div class="center-text"><h2>熱銷商品</h2></div><div class="new-content"><div class="box"><img src="http://localhost:3000/13.jpg" alt=""><h5>lorem ipsum</h5><h6>$188</h6><div class="sale"><h4>Hot</h4></div></div><div class="box"><img src="http://localhost:3000/2.jpg" alt=""><h5>lorem ipsum</h5><h6>$188</h6><div class="sale"><h4>Hot</h4></div></div><div class="box"><img src="http://localhost:3000/3.jpg" alt=""><h5>lorem ipsum</h5><h6>$188</h6><div class="sale"><h4>Hot</h4></div></div><div class="box"><img src="http://localhost:3000/4.jpg" alt=""><h5>lorem ipsum</h5><h6>$188</h6><div class="sale"><h4>Hot</h4></div></div><div class="box"><img src="http://localhost:3000/13.jpg" alt=""><h5>lorem ipsum</h5><h6>$188</h6><div class="sale"><h4>Hot</h4></div></div><div class="box"><img src="http://localhost:3000/10.jpg" alt=""><h5>lorem ipsum</h5><h6>$188</h6><div class="sale"><h4>Hot</h4></div></div><div class="box"><img src="http://localhost:3000/20.jpg" alt=""><h5>lorem ipsum</h5><h6>$188</h6><div class="sale"><h4>Hot</h4></div></div><div class="box"><img src="http://localhost:3000/14.jpg" alt=""><h5>lorem ipsum</h5><h6>$188</h6><div class="sale"><h4>Hot</h4></div></div></div></section><section class="new"><div class="center-text"><h2>會員專屬</h2></div><div class="d-flex items-container"><div class="item-box"><img src="https://images.unsplash.com/photo-1571989928541-674d0cf46c4a?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8dHJ1Y2t8ZW58MHx8MHx8fDA%3D&amp;auto=format&amp;fit=crop&amp;w=500&amp;q=60" alt=""><div class="text-overlay"><p class="looks">免費修改長度</p></div></div><div class="item-box"><img src="https://plus.unsplash.com/premium_photo-1667850562258-b77dfa54c79d?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8cnVsZXJ8ZW58MHx8MHx8fDA%3D&amp;auto=format&amp;fit=crop&amp;w=500&amp;q=60" alt=""><div class="text-overlay"><p class="looks">宅配到府</p></div></div><div class="item-box"><img src="https://images.unsplash.com/photo-1546213290-e1b492ab3eee?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8c2hvcHxlbnwwfHwwfHx8MA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=500&amp;q=60" alt=""><div class="text-overlay"><p class="looks">店到店服務</p></div></div></div></section></div><footer class="footer"><p>© 2023 Your Website. All rights reserved.</p></footer>',4);function p(t,e,a,o,n,s){const i=(0,r.up)("Navbar");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(i,{cartTotal:n.cartTotal},null,8,["cartTotal"]),h],64)}var g=a(971),m=a(4161),f={name:"HomeView",components:{Navbar:g.Z},data(){return{activeTab:"User",cartTotal:0}},methods:{updateCartTotal(t){this.cartTotal=t},async getCart(){console.log(localStorage.email);try{const t=await m.Z.get(`http://localhost:3000/api/admin/userCart/${localStorage.email}`,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e=t.data;console.log(e),this.cartProduct=e,localStorage.cart=e.length,this.updateCartTotal(this.cartTotal),this.cartTotal=t.data.length,this.cartTotal=t.data.reduce(((t,e)=>t+e.quantity),0)}catch(t){console.error("Login error:",t)}}},created(){this.getCart()}};const v=(0,c.Z)(f,[["render",p]]);var b=v;const w=[{path:"/",name:"home",component:b},{path:"/about",name:"about",component:()=>a.e(443).then(a.bind(a,2669))},{path:"/product/discount",redirect:"/product/discount/page=1",component:()=>a.e(18).then(a.bind(a,9320)),children:[{path:"page=:page",name:"product",component:()=>a.e(18).then(a.bind(a,9320))}]},{path:"/product/boy",redirect:"/product/boy/page=1",component:()=>a.e(18).then(a.bind(a,8801)),children:[{path:"page=:page",name:"boy",component:()=>a.e(18).then(a.bind(a,8801))}]},{path:"/product/:productName",name:"ProductDetail",component:()=>a.e(18).then(a.bind(a,934))},{path:"/product/shirt",redirect:"/product/shirt/page=1",component:()=>a.e(18).then(a.bind(a,5839)),children:[{path:"page=:page",name:"shirt",component:()=>a.e(18).then(a.bind(a,5839))}]},{path:"/login",component:()=>a.e(992).then(a.bind(a,7992))},{path:"/cart",component:a.e(464).then(a.bind(a,2464))},{path:"/order",name:"order",component:a.e(961).then(a.bind(a,9961))},{path:"/user",name:"user",component:()=>a.e(141).then(a.bind(a,4141))},{path:"/userOrder",name:"userOrder",component:()=>a.e(198).then(a.bind(a,7198))}],x=(0,d.p7)({history:(0,d.PO)("/voguethreads-vue-app/"),routes:w});var _=x,y=a(6423),T=a(4951),C=(a(6744),a(7024),a(680));const k=(0,o.ri)(u);k.use(y.Z,m.Z),k.use(T.ZP),k.use(_),k.use(C.Z),k.mount("#app")},971:function(t,e,a){a.d(e,{Z:function(){return M}});var o=a(3396),r=a(9242),n=a(7139);const s={ref:"header"},i=(0,o._)("a",{href:"/",class:"logo"},"VogueThreads",-1),c={class:"navlists"},l=(0,o._)("li",null,[(0,o._)("a",{href:"/"},"首頁")],-1),u=(0,o._)("a",{href:"#"},"服飾",-1),d={class:"sub-menu"},h=(0,o._)("a",{href:"/product/discount"},"促銷商品",-1),p=(0,o._)("a",{href:"/product/boy"},"秋季上衣",-1),g=(0,o._)("a",{href:"/product/shirt"},"夏季短袖",-1),m=[h,p,g],f=(0,o._)("li",null,[(0,o._)("a",{href:"/about"},"關於VogueThreads")],-1),v={class:"header-icons"},b={class:"btn-square",href:"/cart"},w={id:"cart"},x=(0,o._)("span",{class:"bi bi-cart"},null,-1),_=["textContent"],y=(0,o._)("a",{class:"btn-square",href:"/user"},[(0,o._)("button",{id:"member"},[(0,o._)("span",{class:"bi bi-person-circle"})])],-1);function T(t,e,a,h,p,g){return(0,o.wg)(),(0,o.iD)("header",s,[i,(0,o._)("ul",c,[l,(0,o._)("li",{onMouseenter:e[0]||(e[0]=(...t)=>g.showSubMenu&&g.showSubMenu(...t)),onMouseleave:e[1]||(e[1]=(...t)=>g.hideSubMenu&&g.hideSubMenu(...t))},[u,(0,o.wy)((0,o._)("div",d,m,512),[[r.F8,p.isSubMenuVisible]])],32),f]),(0,o._)("div",v,[(0,o._)("a",b,[(0,o._)("button",w,[x,(0,o._)("span",{class:"cart-num badge-danger",textContent:(0,n.zw)(a.cartTotal)},null,8,_)])]),y])],512)}var C={name:"couponModal",props:["cartTotal"],data(){return{cartTotals:this.cartTotal,isSubMenuVisible:!1}},watch:{cartTotal(t){console.log(t),this.$emit("cartTotal",t)}},methods:{async getCart(){this.$emit("cartTotal",this.cartTotals)},showSubMenu(){this.isSubMenuVisible=!0},hideSubMenu(){this.isSubMenuVisible=!1}},mounted(){const t=this.$refs.header;window.addEventListener("scroll",(()=>{t.classList.toggle("sticky",window.scrollY>0)}))},created(){this.getCart()}},k=a(89);const S=(0,k.Z)(C,[["render",T]]);var M=S},9336:function(t,e,a){a.d(e,{Z:function(){return d}});var o=a(3396);const r={class:"page_404"},n=(0,o.uE)('<div class="container"><div class="row"><div class="col-sm-12 d-flex justify-content-center"><div class="col-sm-10 col-sm-offset-1 text-center"><div class="four_zero_four_bg"><h1 class="text-center">404</h1></div><div class="contant_box_404"><h3 class="h2">找不到網頁</h3></div></div></div></div></div>',1),s=[n];function i(t,e){return(0,o.wg)(),(0,o.iD)("section",r,s)}var c=a(89);const l={},u=(0,c.Z)(l,[["render",i]]);var d=u},9320:function(t,e,a){a.r(e),a.d(e,{default:function(){return W}});var o=a(3396),r=a(9242),n=a(7139);const s={key:0,class:"loading-overlay"},i=(0,o._)("div",{class:"spinner-border text-primary",role:"status"},[(0,o._)("span",{class:"visually-hidden"},"Loading...")],-1),c=[i],l=(0,o._)("div",{class:"boy"},[(0,o._)("div",{class:"txt"},"促銷商品")],-1),u={class:"container"},d={class:"container-fluid searchBar-container"},h={class:"d-flex justify-content-end",role:"search"},p={class:"btn-group position-ralative",role:"group","aria-label":"Basic example"},g={class:"searchlist"},m={key:0},f=["href"],v=["src"],b={class:"row"},w={class:"product-list"},x={class:"box"},_=["href"],y=["src"],T=(0,o._)("i",{class:"bx bxs-right-arrow-alt"},null,-1),C={class:"discounts"},k={class:"cart"},S=["onClick"],M=(0,o._)("i",{class:"bx bx-shopping-bag"},null,-1),P=[M],j={key:1,"aria-label":"...",class:"pagination-container"},H={class:"pagination"},D={class:"page-item"},$={class:"page-item","aria-current":"page"},Z=["onClick"],A={class:"page-item"},N=(0,o._)("footer",{class:"footer"},[(0,o._)("p",null,"© 2023 Your Website. All rights reserved.")],-1);function O(t,e,a,i,M,O){const E=(0,o.up)("Navbar"),L=(0,o.up)("NoFound");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(E,{cartTotal:M.cartTotal},null,8,["cartTotal"]),M.isLoading?((0,o.wg)(),(0,o.iD)("div",s,c)):(0,o.kq)("",!0),l,(0,o._)("div",u,[(0,o._)("div",d,[(0,o._)("form",h,[(0,o._)("div",p,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>M.searchText=t),class:"form-control me-2",type:"search",onInput:e[1]||(e[1]=(...t)=>O.handleInput&&O.handleInput(...t)),placeholder:"找尋產品","aria-label":"Search"},null,544),[[r.nr,M.searchText]]),(0,o._)("div",g,[M.searchText.length>0?((0,o.wg)(),(0,o.iD)("div",m,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(M.searchResults,(t=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"d-flex"},[(0,o._)("a",{href:`http://localhost:8080/product/${t.name}`,class:"searchResults"},[(0,o._)("img",{src:t.image,alt:"",class:"searchimg"},null,8,v),(0,o._)("span",null,(0,n.zw)(t.name),1)],8,f)])))),128))])):(0,o.kq)("",!0)])])])]),M.isnofound?((0,o.wg)(),(0,o.j4)(L,{key:0})):(0,o.kq)("",!0),(0,o._)("div",b,[(0,o._)("div",w,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(M.products,(t=>((0,o.wg)(),(0,o.iD)("div",x,[(0,o._)("a",{href:`/product/${t.name}`,class:"productlink"},[(0,o._)("img",{src:t.image,alt:""},null,8,y),(0,o._)("h5",null,(0,n.zw)(t.name),1),(0,o._)("h6",null,[(0,o._)("del",null,"原價 NT"+(0,n.zw)(t.price)+"元",1),T,(0,o._)("span",C,"打"+(0,n.zw)(10*t.discount)+"折",1)]),(0,o._)("h6",null,"優惠價 NT"+(0,n.zw)(t.discount*t.price)+"元",1)],8,_),(0,o._)("div",k,[(0,o._)("button",{type:"button",class:"btn btn-outline-danger",onClick:e=>O.addToCart(t,1)},P,8,S)])])))),256))])]),M.currentpage<=M.totalPage?((0,o.wg)(),(0,o.iD)("nav",j,[(0,o._)("ul",H,[(0,o._)("li",D,[(0,o._)("a",{class:(0,n.C_)(["page-link",{disabled:1===M.currentpage}]),href:"#",onClick:e[2]||(e[2]=t=>O.setPage(M.currentpage-1))},"Previous",2)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(M.totalPage,(t=>((0,o.wg)(),(0,o.iD)("li",$,[(0,o._)("a",{class:(0,n.C_)(["page-link",{active:M.currentpage==t}]),onClick:e=>O.setPage(t),href:"#"},(0,n.zw)(t),11,Z)])))),256)),(0,o._)("li",A,[(0,o._)("a",{class:(0,n.C_)(["page-link",{disabled:M.currentpage===M.totalPage}]),href:"#",onClick:e[3]||(e[3]=t=>O.setPage(+this.$route.params.page+1))},"Next",2)])])])):(0,o.kq)("",!0)]),N],64)}a(7658);var E=a(4161),L=a(9336),q=a(2492),z=a.n(q),B=a(971),V={name:"HomeView",components:{NoFound:L.Z,Navbar:B.Z},data(){return{products:[],isLoading:!1,currentpage:+this.$route.params.page,isnofound:!1,totalPage:"",cartTotal:0,cartProduct:[],searchText:"",searchResults:[],searchText:"",keywords:[],searchTimer:null}},methods:{handleInput(){clearTimeout(this.searchTimer),this.searchTimer=setTimeout((()=>{this.updateSearchResults()}),500)},async updateSearchResults(){const t=await E.Z.get("http://localhost:3000/api/products");console.log("执行搜索操作:",this.searchText),console.log("执行搜索操作:",t);const e=t.data.map((t=>({name:t.name,price:t.price,image:t.image})));this.searchResults=e.filter((t=>t.name.includes(this.searchText)))},updateCartTotal(t){this.cartTotal=t},async getCart(){console.log(localStorage.email);try{const t=await E.Z.get(`http://localhost:3000/api/admin/userCart/${localStorage.email}`,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e=t.data;console.log(e),this.cartProduct=e,localStorage.cart=e.length,this.updateCartTotal(this.cartTotal),this.cartTotal=t.data.length,this.cartTotal=t.data.reduce(((t,e)=>t+e.quantity),0)}catch(t){console.error("Login error:",t)}},async addToCart(t,e){console.log("localStorage"),console.log(localStorage);const a=t.name,o=e,r=localStorage.email;if(console.log(t.name),console.log(a,o,r),console.log(this.cartTotal),0!=localStorage.length)try{const t=await E.Z.post("http://localhost:3000/api/admin/cart",{name:a,email:r,quantity:o},{headers:{Authorization:`Bearer ${localStorage.token}`}});console.log(t),this.updateCartTotal(this.cartTotal+1),this.showalert()}catch(n){this.showlogin(),console.error("Login error:",n)}else 0==localStorage.length&&this.showlogin();console.log(this.cartProduct)},showalert(){z().fire({position:"center",icon:"success",title:"加入購物車成功",showConfirmButton:!1,timer:1500})},showlogin(){z().fire({position:"center",icon:"error",title:"您尚未登入會員",showConfirmButton:!1,timer:1500})},goToPage(t=1){this.isLoading=!0,this.isnofound=!1;const e=`http://localhost:3000/api/products/discount/page=${this.currentpage}`;console.log(e),this.$http.get(e).then((e=>{console.log(e),this.products=e.data.data,this.currentpage=t,this.totalPage=e.data.totalPage,console.log(this.currentpage),console.log(this.totalPage),this.isLoading=!1,0==this.products.length&&(this.isnofound=!0)}))},setPage(t){console.log(t),this.currentpage=t,this.$router.push({name:"product",params:{page:this.currentpage}}),this.goToPage(this.currentpage)}},created(){this.setPage(+this.$route.params.page),this.getCart()}},Y=a(89);const F=(0,Y.Z)(V,[["render",O]]);var W=F}},e={};function a(o){var r=e[o];if(void 0!==r)return r.exports;var n=e[o]={id:o,loaded:!1,exports:{}};return t[o].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=t,function(){a.amdO={}}(),function(){var t=[];a.O=function(e,o,r,n){if(!o){var s=1/0;for(u=0;u<t.length;u++){o=t[u][0],r=t[u][1],n=t[u][2];for(var i=!0,c=0;c<o.length;c++)(!1&n||s>=n)&&Object.keys(a.O).every((function(t){return a.O[t](o[c])}))?o.splice(c--,1):(i=!1,n<s&&(s=n));if(i){t.splice(u--,1);var l=r();void 0!==l&&(e=l)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[o,r,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,o){return a.f[o](t,e),e}),[]))}}(),function(){a.u=function(t){return"js/"+({18:"product",443:"about"}[t]||t)+"."+{18:"fe7ae1a0",141:"7c1af91e",198:"808a43c1",443:"87226a70",464:"3819d657",961:"9d05b296",992:"e4161784"}[t]+".js"}}(),function(){a.miniCssF=function(t){return"css/"+({18:"product",443:"about"}[t]||t)+"."+{18:"4430341f",141:"c3f4d2ae",198:"c532c572",443:"8da4eaa3",464:"e3c2abd5",961:"1dc367dd",992:"c1c3c055"}[t]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="e-commerce-front:";a.l=function(o,r,n,s){if(t[o])t[o].push(r);else{var i,c;if(void 0!==n)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==e+n){i=d;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",e+n),i.src=o),t[o]=[r];var h=function(e,a){i.onerror=i.onload=null,clearTimeout(p);var r=t[o];if(delete t[o],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((function(t){return t(a)})),e)return e(a)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/voguethreads-vue-app/"}(),function(){if("undefined"!==typeof document){var t=function(t,e,a,o,r){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var s=function(a){if(n.onerror=n.onload=null,"load"===a.type)o();else{var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=i,n.parentNode&&n.parentNode.removeChild(n),r(c)}};return n.onerror=n.onload=s,n.href=e,a?a.parentNode.insertBefore(n,a.nextSibling):document.head.appendChild(n),n},e=function(t,e){for(var a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var r=a[o],n=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(n===t||n===e))return r}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){r=s[o],n=r.getAttribute("data-href");if(n===t||n===e)return r}},o=function(o){return new Promise((function(r,n){var s=a.miniCssF(o),i=a.p+s;if(e(s,i))return r();t(o,i,null,r,n)}))},r={143:0};a.f.miniCss=function(t,e){var a={18:1,141:1,198:1,443:1,464:1,961:1,992:1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=o(t).then((function(){r[t]=0}),(function(e){throw delete r[t],e})))}}}(),function(){var t={143:0};a.f.j=function(e,o){var r=a.o(t,e)?t[e]:void 0;if(0!==r)if(r)o.push(r[2]);else{var n=new Promise((function(a,o){r=t[e]=[a,o]}));o.push(r[2]=n);var s=a.p+a.u(e),i=new Error,c=function(o){if(a.o(t,e)&&(r=t[e],0!==r&&(t[e]=void 0),r)){var n=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;i.message="Loading chunk "+e+" failed.\n("+n+": "+s+")",i.name="ChunkLoadError",i.type=n,i.request=s,r[1](i)}};a.l(s,c,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,o){var r,n,s=o[0],i=o[1],c=o[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(c)var u=c(a)}for(e&&e(o);l<s.length;l++)n=s[l],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(u)},o=self["webpackChunke_commerce_front"]=self["webpackChunke_commerce_front"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(3715)}));o=a.O(o)})();
//# sourceMappingURL=app.f8d03c52.js.map