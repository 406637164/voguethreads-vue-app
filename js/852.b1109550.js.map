{"version":3,"file":"js/852.b1109550.js","mappings":"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","sources":["webpack://e-commerce-front/./src/views/LoginView.vue","webpack://e-commerce-front/./src/components/RegisterForm.vue","webpack://e-commerce-front/./src/components/RegisterForm.vue?33ca","webpack://e-commerce-front/./src/components/LoginForm.vue","webpack://e-commerce-front/./src/components/LoginForm.vue?dcb9","webpack://e-commerce-front/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\r\n  <Navbar :cartTotal=\"cartTotal\"></Navbar>\r\n  <div class=\"w-50 container p-3\" style=\"margin-top: 100px\">\r\n    <div class=\"tabs d-flex\">\r\n      <div\r\n        class=\"tab-item\"\r\n        href=\"#\"\r\n        :class=\"{ active: activeTab === 'login' }\"\r\n        @click=\"activeTab = 'login'\"\r\n      >\r\n        <b>登入</b>\r\n      </div>\r\n      <div\r\n        class=\"tab-item\"\r\n        href=\"#\"\r\n        :class=\"{ active: activeTab === 'register' }\"\r\n        @click=\"activeTab = 'register'\"\r\n      >\r\n        註冊\r\n      </div>\r\n    </div>\r\n\r\n    <component :is=\"activeTab === 'login' ? 'LoginForm' : 'RegisterForm'\" />\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n.login-container {\r\n  width: 40vw;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport RegisterForm from '@/components/RegisterForm.vue';\r\nimport LoginForm from '@/components/LoginForm.vue';\r\nimport axios from 'axios';\r\nimport Navbar from '../components/NavBar.vue';\r\nexport default {\r\n  name: 'HomeView',\r\n  components: {\r\n    RegisterForm,\r\n    LoginForm,\r\n    Navbar,\r\n  },\r\n  data() {\r\n    return {\r\n      activeTab: 'login',\r\n      cartTotal: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    signIn() {},\r\n\r\n    updateCartTotal(newTotal) {\r\n      this.cartTotal = newTotal; // 更新 cartTotal\r\n    },\r\n    async getCart() {\r\n      console.log(localStorage.email);\r\n      console.log(localStorage);\r\n      try {\r\n        const response = await axios.get(\r\n          `http://192.168.68.112:3000/api/admin/userCart/${localStorage.email}`,\r\n          {\r\n            headers: { Authorization: `Bearer ${localStorage.token}` },\r\n          }\r\n        );\r\n\r\n        const responseData = response.data;\r\n        console.log(responseData);\r\n        console.log(responseData);\r\n        console.log(responseData);\r\n        this.cartProduct = responseData;\r\n        localStorage.cart = responseData.length;\r\n        this.updateCartTotal(this.cartTotal);\r\n        this.cartTotal = response.data.length;\r\n        this.cartTotal = response.data.reduce((total, item) => {\r\n          return total + item.quantity;\r\n        }, 0);\r\n      } catch (error) {\r\n        console.error('Login error:', error);\r\n\r\n        // this.$router.push('/login');\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.getCart();\r\n  },\r\n};\r\n</script>\r\n<style>\r\nh2 {\r\n  margin-top: 20px;\r\n  font-weight: bold;\r\n\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n</style>\r\n","<template>\r\n  <form @submit.prevent=\"register\">\r\n    <div\r\n      class=\"form-outline mb-4 d-flex justify-content-center align-items-center p-3 px-2\"\r\n    >\r\n      <label class=\"form-label\" for=\"loginName\">姓名</label>\r\n      <input\r\n        v-model=\"username\"\r\n        type=\"username\"\r\n        id=\"username\"\r\n        class=\"form-control\"\r\n      />\r\n    </div>\r\n    <div\r\n      class=\"form-outline mb-4 d-flex justify-content-center align-items-center p-3 px-2\"\r\n    >\r\n      <label class=\"form-label\" for=\"loginemail\">帳號(電子郵件)</label>\r\n      <input v-model=\"email\" type=\"email\" id=\"email\" class=\"form-control\" />\r\n    </div>\r\n\r\n    <div\r\n      class=\"form-outline mb-4 d-flex justify-content-center align-items-center p-3 px-2\"\r\n    >\r\n      <label class=\"form-label\" for=\"loginPassword\">密碼</label>\r\n      <input\r\n        type=\"password\"\r\n        v-model=\"password\"\r\n        id=\"loginPassword\"\r\n        class=\"form-control\"\r\n      />\r\n    </div>\r\n    <div\r\n      class=\"form-outline mb-4 d-flex justify-content-center align-items-center p-3 px-2\"\r\n    >\r\n      <label class=\"form-label\" for=\"loginCellponw\">電話</label>\r\n      <input\r\n        type=\"phone\"\r\n        id=\"loginPassword\"\r\n        v-model=\"cellphone\"\r\n        class=\"form-control\"\r\n      />\r\n    </div>\r\n\r\n    <div class=\"d-flex justify-content-center\">\r\n      <div class=\"w-50\">\r\n        <button type=\"submit\" class=\"btn btn-primary btn-block mb-4 w-100\">\r\n          註冊\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n      cellphone: '',\r\n    };\r\n  },\r\n  methods: {\r\n    async register() {\r\n      try {\r\n        const response = await axios.post(\r\n          'http://localhost:3000/api/admin/register',\r\n          {\r\n            username: this.username,\r\n            email: this.email,\r\n            password: this.password,\r\n            cellphone: this.cellphone,\r\n          }\r\n        );\r\n        console.log(response);\r\n        this.showAlert();\r\n        this.username = '';\r\n        this.email = '';\r\n        this.password = '';\r\n        this.cellphone = '';\r\n        // 处理服务器响应，例如保存令牌到本地存储\r\n        // const token = response.data.token;\r\n        // localStorage.setItem('token', token);\r\n\r\n        // 导航到其他页面或进行其他操作\r\n      } catch (error) {\r\n        console.error('Login error:', error);\r\n      }\r\n    },\r\n    showAlert() {\r\n      Swal.fire({\r\n        title: '註冊成功',\r\n        icon: 'success',\r\n        timer: 2000, // 设置2秒的显示时间\r\n        timerProgressBar: true, // 显示倒计时进度条\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.btn {\r\n  width: 150px;\r\n}\r\n.form-label {\r\n  padding-top: 5px;\r\n  display: inline-block;\r\n  width: 200px;\r\n  font-size: 1.25rem;\r\n  font-weight: bold;\r\n  text-align: left;\r\n}\r\n</style>\r\n","import { render } from \"./RegisterForm.vue?vue&type=template&id=28211218\"\nimport script from \"./RegisterForm.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterForm.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterForm.vue?vue&type=style&index=0&id=28211218&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\" \">\r\n    <div\r\n      class=\"tab-pane fade show active\"\r\n      id=\"pills-login\"\r\n      role=\"tabpanel\"\r\n      aria-labelledby=\"tab-login\"\r\n    >\r\n      <form @submit.prevent=\"login\">\r\n        <!-- Email input -->\r\n        <div\r\n          class=\"form-outline mb-4 d-flex justify-content-center align-items-center p-3 px-2\"\r\n        >\r\n          <label class=\"form-label\" for=\"loginName\">帳號(電子郵件)</label>\r\n          <input\r\n            type=\"email\"\r\n            v-model=\"email\"\r\n            id=\"loginName\"\r\n            class=\"form-control\"\r\n          />\r\n        </div>\r\n\r\n        <!-- Password input -->\r\n\r\n        <div\r\n          class=\"form-outline mb-4 d-flex justify-content-center align-items-center p-3 px-2\"\r\n        >\r\n          <label class=\"form-label\" for=\"loginPassword\">密碼</label>\r\n          <input\r\n            type=\"password\"\r\n            v-model=\"password\"\r\n            id=\"loginPassword\"\r\n            class=\"form-control\"\r\n          />\r\n        </div>\r\n\r\n        <!-- 2 column grid layout -->\r\n        <div class=\"row mb-4\">\r\n          <div class=\"col-md-6 d-flex justify-content-center\">\r\n            <!-- Simple link -->\r\n            <a href=\"#!\">忘記密碼?</a>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Submit button -->\r\n\r\n        <div class=\"d-flex justify-content-center\">\r\n          <div class=\"w-50\">\r\n            <button type=\"submit\" class=\"btn btn-primary btn-block mb-4 w-100\">\r\n              登入\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <!-- Register buttons -->\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nexport default {\r\n  data() {\r\n    return {\r\n      email: '',\r\n      password: '',\r\n    };\r\n  },\r\n  methods: {\r\n    async login() {\r\n      try {\r\n        const response = await axios.post(\r\n          'http://localhost:3000/api/admin/login',\r\n          {\r\n            email: this.email,\r\n\r\n            password: this.password,\r\n          }\r\n        );\r\n        const token = response.data.token;\r\n        const email = response.data.email;\r\n        const id = response.data.id;\r\n        localStorage.setItem('token', token);\r\n        localStorage.setItem('id', id);\r\n        localStorage.setItem('email', this.email);\r\n\r\n        console.log('-----');\r\n        console.log(response);\r\n\r\n        this.$router.push('/user');\r\n        this.showAlert();\r\n        this.username = '';\r\n\r\n        this.password = '';\r\n\r\n        // 处理服务器响应，例如保存令牌到本地存储\r\n        // const token = response.data.token;\r\n        // localStorage.setItem('token', token);\r\n\r\n        // 导航到其他页面或进行其他操作\r\n      } catch (error) {\r\n        console.error('Login error:', error);\r\n      }\r\n    },\r\n    showAlert() {\r\n      Swal.fire({\r\n        position: 'center',\r\n        icon: 'success',\r\n        title: '登入成功',\r\n        showConfirmButton: false,\r\n        timer: 1500,\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./LoginForm.vue?vue&type=template&id=220c33fb\"\nimport script from \"./LoginForm.vue?vue&type=script&lang=js\"\nexport * from \"./LoginForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LoginView.vue?vue&type=template&id=6c5e39ba\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=6c5e39ba&lang=css\"\nimport \"./LoginView.vue?vue&type=style&index=1&id=6c5e39ba&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","_hoisted_3","_createVNode","_component_Navbar","cartTotal","$data","_hoisted_1","_hoisted_2","_normalizeClass","active","activeTab","href","onClick","_cache","$event","_createBlock","_resolveDynamicComponent","for","type","_createElementBlock","onSubmit","_withModifiers","args","$options","register","username","id","_hoisted_4","email","_hoisted_5","_hoisted_6","password","_hoisted_7","_hoisted_8","cellphone","_hoisted_9","data","methods","response","axios","post","this","console","log","showAlert","error","Swal","title","icon","timer","timerProgressBar","__exports__","role","login","token","localStorage","setItem","$router","push","position","showConfirmButton","name","components","RegisterForm","LoginForm","Navbar","signIn","updateCartTotal","newTotal","getCart","get","headers","Authorization","responseData","cartProduct","cart","length","reduce","total","item","quantity","created","render"],"sourceRoot":""}