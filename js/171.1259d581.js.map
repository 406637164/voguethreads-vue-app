{"version":3,"file":"js/171.1259d581.js","mappings":"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","sources":["webpack://e-commerce-front/./src/views/ManageView.vue","webpack://e-commerce-front/./src/views/ManageView.vue?98a6"],"sourcesContent":["<template>\r\n  <header ref=\"header\">\r\n    <a href=\"/\" class=\"logo\">VogueThreads</a>\r\n    <ul class=\"navlists\">\r\n      <li><a href=\"/\">商品管理</a></li>\r\n      <li>\r\n        <a href=\"#\">訂單管理</a>\r\n      </li>\r\n      <li><a href=\"/about\">人員管理</a></li>\r\n    </ul>\r\n    <div class=\"header-icons\">\r\n      <a class=\"btn-square\" href=\"/user\">\r\n        <button id=\"member\">\r\n          <span class=\"bi bi-person-circle\"></span>\r\n        </button>\r\n      </a>\r\n    </div>\r\n  </header>\r\n  <div v-if=\"isLoading\" class=\"loading-overlay\">\r\n    <div class=\"spinner-border text-primary\" role=\"status\">\r\n      <span class=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n  </div>\r\n  <div class=\"container\">\r\n    <div class=\"d-flex\">\r\n      <div class=\"manage-container\">\r\n        <button\r\n          class=\"btn btn-outline-primary btn-sm operate\"\r\n          data-bs-toggle=\"modal\"\r\n          data-bs-target=\"#exampleModal\"\r\n          @click=\"openAddProductModal()\"\r\n          id=\"addproducts\"\r\n        >\r\n          <i class=\"bx bxs-plus-circle\">新增產品</i>\r\n        </button>\r\n\r\n        <table class=\"manage-item-lists\">\r\n          <thead>\r\n            <tr>\r\n              <th class=\"item_detail\">商品</th>\r\n              <th class=\"price\">單價</th>\r\n              <th class=\"count\">庫存</th>\r\n              <th class=\"amount\">類別</th>\r\n              <th class=\"operate\">編輯</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody class=\"scrollable-tbody\">\r\n            <tr v-for=\"(item, index) in products\" :key=\"item.name\">\r\n              <td class=\"item_detail\">\r\n                <a :href=\"`/product/${item.name}`\">\r\n                  <img :src=\"item.image\" alt=\"\" />\r\n                  <div class=\"name\">\r\n                    <span>{{ item.name }}</span>\r\n                  </div>\r\n                </a>\r\n              </td>\r\n              <td class=\"price\">{{ item.price }}</td>\r\n              <td class=\"count\">\r\n                <button\r\n                  class=\"btn dels\"\r\n                  @click=\"reduceitem(item, index)\"\r\n                  v-if=\"item.edit\"\r\n                >\r\n                  -\r\n                </button>\r\n                {{ item.qty }}\r\n                <button\r\n                  class=\"btn adds\"\r\n                  @click=\"additem(item, index)\"\r\n                  v-if=\"item.edit\"\r\n                >\r\n                  +\r\n                </button>\r\n              </td>\r\n\r\n              <td class=\"amount\">{{ item.category }}</td>\r\n              <td class=\"operate\">\r\n                <button\r\n                  data-bs-toggle=\"modal\"\r\n                  data-bs-target=\"#exampleModal\"\r\n                  class=\"btn btn-outline-success btn-sm operate\"\r\n                  @click=\"edititem(item, index)\"\r\n                >\r\n                  <i class=\"bx bx-edit\"></i>\r\n                </button>\r\n                <button\r\n                  class=\"btn btn-outline-danger btn-sm operate\"\r\n                  @click=\"deleteitem(item, index)\"\r\n                >\r\n                  <i class=\"bx bxs-trash\"></i>\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"exampleModal\"\r\n    ref=\"myModalRef\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <div class=\"modal-dialog modal-dialog-centered modal-xl\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ titles }}</h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <!-- 上传图片 -->\r\n          <div class=\"mb-3 image-block\">\r\n            <img\r\n              v-if=\"editedProduct.imageURL != null\"\r\n              :src=\"editedProduct.imageURL\"\r\n              alt=\"Uploaded Image\"\r\n              class=\"mt-3 modal-img\"\r\n            />\r\n            <img\r\n              v-else\r\n              :src=\"editedProduct.image\"\r\n              alt=\"Uploaded Image\"\r\n              class=\"mt-3 modal-img\"\r\n            />\r\n            <input\r\n              type=\"file\"\r\n              ref=\"imageInput\"\r\n              class=\"form-control\"\r\n              id=\"productImage\"\r\n              accept=\"image/*\"\r\n              @change=\"handleImageUpload\"\r\n            />\r\n          </div>\r\n          <!-- 商品名称 -->\r\n          <div class=\"mb-3\">\r\n            <label for=\"productName\" class=\"form-label\">商品名稱</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"productName\"\r\n              v-model=\"editedProduct.name\"\r\n            />\r\n          </div>\r\n          <!-- 价格 -->\r\n          <div class=\"mb-3\">\r\n            <label for=\"productPrice\" class=\"form-label\">金額</label>\r\n            <input\r\n              type=\"number\"\r\n              class=\"form-control\"\r\n              id=\"productPrice\"\r\n              v-model=\"editedProduct.price\"\r\n            />\r\n          </div>\r\n          <!-- 库存 -->\r\n          <div class=\"mb-3\">\r\n            <label for=\"productStock\" class=\"form-label\">庫存</label>\r\n            <input\r\n              type=\"number\"\r\n              class=\"form-control\"\r\n              id=\"productStock\"\r\n              v-model=\"editedProduct.qty\"\r\n            />\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"productDescription\" class=\"form-label\">商品描述</label>\r\n            <textarea\r\n              type=\"number\"\r\n              class=\"form-control\"\r\n              id=\"productDescription\"\r\n              v-model=\"editedProduct.description\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            關閉\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            data-bs-dismiss=\"modal\"\r\n            class=\"btn btn-primary\"\r\n            @click=\"saveEditedProduct\"\r\n          >\r\n            保存\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <footer class=\"footer\">\r\n    <p>&copy; 2023 Your Website. All rights reserved.</p>\r\n  </footer>\r\n</template>\r\n<style lang=\"scss\">\r\n@import './assets/all';\r\n@import url('https://unpkg.com/boxicons@latest/css/boxicons.min.css');\r\n@import url('https://fonts.googleapis.com/css2?family=Catamaran&family=Inter&family=Kalam:wght@400;700&family=Niramit:wght@600&family=Noto+Sans+TC&family=Open+Sans:wght@300;400;600&display=swap');\r\n\r\nli {\r\n  font-size: 1.25rem;\r\n  text-decoration: none;\r\n}\r\n.navbar-nav .dropdown:hover .dropdown-menu {\r\n  display: block;\r\n}\r\n\r\n:root {\r\n  --bg-color: white;\r\n  --text-color: black;\r\n  --main-color: #c8815f;\r\n  --big-font: 4.5rem;\r\n  --h2-font: 3.3rem;\r\n  --h3-font: 2rem;\r\n  --normal-font: 1rem;\r\n}\r\nbody {\r\n  background: var(--bg-color);\r\n  color: var(--text-color);\r\n}\r\n.bx {\r\n  font-size: 1.5rem;\r\n}\r\n.operate {\r\n  margin-right: 5px;\r\n}\r\n.image-block {\r\n  box-sizing: border-box;\r\n\r\n  text-align: center;\r\n}\r\n.image-block img {\r\n  width: 100%;\r\n  padding: 5px;\r\n}\r\nheader {\r\n  width: 100%;\r\n  top: 0;\r\n  right: 0;\r\n  z-index: 1000;\r\n  position: fixed;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n\r\n  background: transparent;\r\n  // padding: 20px 14%;\r\n  padding: 8px 14%;\r\n  transition: all 0.35s ease;\r\n}\r\n.logo {\r\n  font-size: 28px;\r\n  font-weight: 700;\r\n  text-decoration: none;\r\n  letter-spacing: 1px;\r\n  color: var(--text-color);\r\n}\r\n.modal-img {\r\n  text-align: center;\r\n  max-width: 200px;\r\n  max-height: 200px;\r\n\r\n  margin: 5px;\r\n}\r\n@media screen and (max-width: 768px) {\r\n  .navlists {\r\n    display: none;\r\n    flex-direction: column;\r\n    position: absolute;\r\n    top: 50px;\r\n    left: 0;\r\n    width: 100%;\r\n    background-color: #fff;\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n    z-index: 1;\r\n  }\r\n  .boy {\r\n    margin-top: 40vh;\r\n  }\r\n  .nav-active {\r\n    display: flex;\r\n  }\r\n\r\n  .menu-toggle {\r\n    display: block;\r\n    font-size: 24px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .header-icons {\r\n    display: none;\r\n    flex-direction: column;\r\n    position: absolute;\r\n    top: 140px;\r\n    left: 0;\r\n    width: 100%;\r\n    background-color: #fff;\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n    z-index: 1;\r\n  }\r\n}\r\n.navlists {\r\n  display: flex;\r\n  margin-bottom: 0;\r\n}\r\n.navlists a {\r\n  color: var(--text-color);\r\n  font-weight: 600;\r\n  padding: 10px 25px;\r\n  color: var(--text-color);\r\n  transition: all 1s ease;\r\n  text-decoration: none;\r\n}\r\n\r\n.navlists a:hover {\r\n  color: var(--main-color);\r\n}\r\n.header-icons {\r\n  display: flex;\r\n  font-size: 20px;\r\n  color: var(--text-color);\r\n  margin-right: 20px;\r\n  transition: all 0.36s ease;\r\n}\r\n\r\n.header-icons i:hover {\r\n  color: var(--main-color);\r\n}\r\nheader.sticky {\r\n  background: var(--bg-color);\r\n  padding: 8px 14%;\r\n  box-shadow: 0px 0px 10px rgb(0 0 0/10%);\r\n}\r\n\r\n#addproducts {\r\n  background: var(--bg-color);\r\n\r\n  box-shadow: 0px 0px 10px rgb(0 0 0/10%);\r\n}\r\n.ol,\r\nul,\r\ndl {\r\n  margin-bottom: 0px;\r\n}\r\n.nav-item:hover .sub-menu {\r\n  display: flex;\r\n  position: absolute;\r\n  background-color: #fff; /* 背景颜色，可以根据需要进行调整 */\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* 添加阴影效果，可选 */\r\n  z-index: 1; /* 确保下拉菜单位于其他内容之上 */\r\n}\r\n.sub-menu {\r\n  display: none;\r\n  position: absolute;\r\n  background-color: #fff;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n  z-index: 1;\r\n  top: 100%; /* 使下拉菜单位于服饰链接的下方 */\r\n  left: 0;\r\n  width: 100%; /* 让下拉菜单占满整个宽度 */\r\n  padding: 10px;\r\n  text-align: center;\r\n}\r\n/* 样式化 .sub-menu 中的链接 */\r\n.sub-menu a {\r\n  text-decoration: none; /* 去除下划线 */\r\n  color: #333; /* 文字颜色，可根据需要进行调整 */\r\n  display: inline-block;\r\n  padding: 10px; /* 可根据需要进行调整 */\r\n  text-align: center; /* 文字居中，可选 */\r\n  transition: background-color 0.3s; /* 添加过渡效果，可选 */\r\n}\r\n.manage-item-lists {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  text-align: center;\r\n  margin-right: 5px;\r\n}\r\n/* 链接悬停时改变背景颜色，可选 */\r\n.navlists :hover .sub-menu {\r\n  position: absolute;\r\n  z-index: 9999;\r\n  top: 55px;\r\n  background-color: #fff;\r\n  text-align: center;\r\n  left: 0px;\r\n  padding-left: 10px;\r\n  width: 100vw;\r\n  padding: 10px;\r\n  display: block;\r\n}\r\n.manage-container {\r\n  margin-top: 100px;\r\n  width: 100%;\r\n  max-height: 610px;\r\n  position: relative;\r\n  overflow: scroll;\r\n}\r\n.manage-container::-webkit-scrollbar {\r\n  width: 0.5em;\r\n}\r\n.modal-content {\r\n}\r\n\r\n.loading-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 9999;\r\n}\r\n#addproducts {\r\n  position: fixed;\r\n  bottom: 20px; /* Adjust the bottom distance as needed */\r\n  right: 20px; /* Adjust the right distance as needed */\r\n  z-index: 999; /* Ensure it's above other content */\r\n}\r\n.item_detail {\r\n  padding-top: 5px;\r\n  padding-bottom: 5px;\r\n}\r\n\r\n.modal-body {\r\n  height: 500px;\r\n  overflow: scroll;\r\n}\r\n.modal-body::-webkit-scrollbar {\r\n  width: 0.1px;\r\n}\r\n#addproducts:hover {\r\n  background-color: var(--bs-btn-hover-border-color);\r\n}\r\n</style>\r\n<script>\r\nimport Navbar from '../components/NavBar.vue';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nexport default {\r\n  name: 'HomeView',\r\n  components: {\r\n    Navbar,\r\n  },\r\n  data() {\r\n    return {\r\n      titles: '',\r\n      isLoading: true,\r\n      products: [],\r\n      isadded: false,\r\n      editedProduct: {\r\n        id: '',\r\n        name: '',\r\n        price: 0,\r\n        qty: 0,\r\n        imageURL: null,\r\n        image: null, // 用于存储上传的图片\r\n        description: null,\r\n      },\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    async edititem(item, index) {\r\n      this.titles = '修改產品內容';\r\n      let fileName = this.$refs.imageInput;\r\n      fileName.value = '';\r\n\r\n      this.editedProduct.image = null;\r\n      this.editedProduct.imageURL = null;\r\n      this.$refs.myModalRef.classList.add('show');\r\n      console.log(item.image);\r\n      console.log(item);\r\n      this.editedProduct.id = item.id;\r\n      this.editedProduct.name = item.name;\r\n      this.editedProduct.price = item.price;\r\n      this.editedProduct.qty = item.qty;\r\n      this.editedProduct.image = item.image;\r\n      this.editedProduct.description = item.description;\r\n    },\r\n    async getproduct() {\r\n      this.isLoading = true;\r\n      const res = await axios.get('http://localhost:3000/api/products');\r\n      res.data.map((item, i) => (item.edit = 0));\r\n      this.products = res.data;\r\n      this.isLoading = false;\r\n      console.log(res.data);\r\n    },\r\n    handleImageUpload(event) {\r\n      const file = event.target.files[0];\r\n      console.log(this.editedProduct.image);\r\n      console.log(file);\r\n      // 将上传的图片文件存储在editedProduct.image中\r\n      this.editedProduct.image = file;\r\n      // 创建图像URL以在<img>元素中显示图像\r\n      this.editedProduct.imageURL = URL.createObjectURL(file);\r\n      console.log(this.editedProduct);\r\n    },\r\n    async saveEditedProduct() {\r\n      // this.isLoading = true;\r\n      this.isadded = false;\r\n      console.log(this.isadded);\r\n      if (this.isadded == true) {\r\n        let reviseProduct = this.products.find(\r\n          (item) => item.id == this.editedProduct.id\r\n        );\r\n        reviseProduct.name = this.editedProduct.name;\r\n        reviseProduct.price = this.editedProduct.price;\r\n        reviseProduct.qty = this.editedProduct.qty;\r\n\r\n        if (this.editedProduct.imageURL != null) {\r\n          reviseProduct.image = this.editedProduct.imageURL;\r\n        }\r\n        // if (this.editedProduct.imageURL == null) {\r\n        //   this.editedProduct.image.name = reviseProduct.image;\r\n        // }\r\n\r\n        console.log(this.editedProduct.image.name);\r\n        const formData = new FormData();\r\n        console.log(reviseProduct.id);\r\n        console.log(reviseProduct.price);\r\n        formData.append('id', this.editedProduct.id);\r\n        formData.append('name', this.editedProduct.name);\r\n        formData.append('price', this.editedProduct.price);\r\n\r\n        formData.append('stock', this.editedProduct.qty);\r\n        // 将图像文件附加到 FormData 中\r\n        formData.append('image', this.editedProduct.image);\r\n        console.log(formData);\r\n\r\n        try {\r\n          // 使用 Axios 发送 POST 请求，将 FormData 发送给后端 Multer 中间件\r\n          const response = await axios.patch(\r\n            'http://localhost:3000/api/manage/uploads/' +\r\n              this.editedProduct.image.name,\r\n            formData\r\n          );\r\n\r\n          // 处理成功的响应\r\n          // console.log('資料已更新', response);\r\n          this.isLoading = false;\r\n          // this.$refs.myModalRef.classList.remove('show');\r\n          Swal.fire('資料已更新', '', 'success');\r\n        } catch (error) {\r\n          // 处理错误\r\n          console.error('上傳失敗', error);\r\n        }\r\n      } else {\r\n        console.log(this.editedProduct);\r\n        const formData = new FormData();\r\n\r\n        formData.append('id', this.editedProduct.id);\r\n        formData.append('name', this.editedProduct.name);\r\n        formData.append('price', this.editedProduct.price);\r\n\r\n        formData.append('stock', this.editedProduct.qty);\r\n        // 将图像文件附加到 FormData 中\r\n\r\n        formData.append('description', this.editedProduct.description);\r\n        formData.append('image', this.editedProduct.image);\r\n        const response = await axios.post(\r\n          'http://localhost:3000/api/manage/upload/',\r\n          formData\r\n        );\r\n        console.log(response);\r\n      }\r\n      console.log(this.editedProduct);\r\n      this.editedProduct.image = this.editedProduct.imageURL;\r\n      this.products.push(this.editedProduct);\r\n      // 创建 FormData 对象，并将编辑后的商品数据附加到其中\r\n    },\r\n\r\n    async deleteitem(item, index) {\r\n      try {\r\n        // 发送DELETE请求到后端以删除商品\r\n        const response = await axios.delete(\r\n          `http://localhost:3000/api/products/${item.id}`\r\n        );\r\n\r\n        if (response.status === 200) {\r\n          // 删除成功后从前端列表中移除商品\r\n          this.products.splice(index, 1);\r\n          // 在这里可以添加一些提示或通知用户删除成功\r\n          Swal.fire('商品已删除', '', 'success');\r\n        } else {\r\n          // 在这里可以添加一些提示或通知删除失败\r\n          Swal.fire('删除商品失败', '', 'error');\r\n        }\r\n      } catch (error) {\r\n        // 处理错误\r\n        console.error('删除商品失败', error);\r\n        // 在这里可以添加一些提示或通知删除失败\r\n        Swal.fire('删除商品失败', '', 'error');\r\n      }\r\n    },\r\n    openAddProductModal() {\r\n      // 清空editedProduct对象\r\n      this.isadded = true;\r\n\r\n      if ((this.added = true)) {\r\n        this.titles = '新增產品內容';\r\n        this.editedProduct = {\r\n          id: '',\r\n          name: '',\r\n          price: 0,\r\n          qty: 0,\r\n          imageURL: null,\r\n          image: null,\r\n          description: null,\r\n        };\r\n        // 设置showAddProductModal为true，显示modal\r\n        this.$refs.myModalRef.classList.add('show');\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.getproduct();\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./ManageView.vue?vue&type=template&id=58576190\"\nimport script from \"./ManageView.vue?vue&type=script&lang=js\"\nexport * from \"./ManageView.vue?vue&type=script&lang=js\"\n\nimport \"./ManageView.vue?vue&type=style&index=0&id=58576190&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["ref","_hoisted_2","class","_createElementVNode","role","_hoisted_7","_hoisted_12","_hoisted_28","_hoisted_31","id","tabindex","type","for","_hoisted_1","_hoisted_5","$data","isLoading","_createElementBlock","_hoisted_6","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","onClick","_cache","$event","$options","openAddProductModal","_hoisted_14","_hoisted_15","_hoisted_16","_Fragment","_renderList","products","item","index","key","name","_hoisted_17","href","src","image","alt","_hoisted_20","_toDisplayString","_hoisted_21","price","_hoisted_22","edit","_ctx","reduceitem","_hoisted_23","qty","additem","_hoisted_24","_hoisted_25","category","_hoisted_26","edititem","deleteitem","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","titles","_hoisted_38","_hoisted_39","_hoisted_40","editedProduct","imageURL","accept","onChange","args","handleImageUpload","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","description","_hoisted_51","_hoisted_52","saveEditedProduct","_hoisted_53","components","Navbar","data","isadded","methods","this","fileName","$refs","imageInput","value","myModalRef","classList","add","console","log","getproduct","res","axios","get","map","i","event","file","target","files","URL","createObjectURL","reviseProduct","find","formData","FormData","append","patch","Swal","error","response","post","push","delete","status","splice","added","created","__exports__","render"],"sourceRoot":""}