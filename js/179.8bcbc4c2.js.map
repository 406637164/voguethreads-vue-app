{"version":3,"file":"js/179.8bcbc4c2.js","mappings":"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","sources":["webpack://e-commerce-front/./src/views/ManageView.vue","webpack://e-commerce-front/./src/views/ManageView.vue?98a6"],"sourcesContent":["<template>\r\n  <header ref=\"header\">\r\n    <a href=\"/\" class=\"logo\">VogueThreads</a>\r\n    <ul class=\"navlists\">\r\n      <li><a href=\"/\">商品管理</a></li>\r\n      <li>\r\n        <a href=\"#\">訂單管理</a>\r\n      </li>\r\n      <li><a href=\"/about\">人員管理</a></li>\r\n    </ul>\r\n    <div class=\"header-icons\">\r\n      <a class=\"btn-square\" href=\"/user\">\r\n        <button id=\"member\">\r\n          <span class=\"bi bi-person-circle\"></span>\r\n        </button>\r\n      </a>\r\n    </div>\r\n  </header>\r\n  <div v-if=\"isLoading\" class=\"loading-overlay\">\r\n    <div class=\"spinner-border text-primary\" role=\"status\">\r\n      <span class=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n  </div>\r\n  <div class=\"container\">\r\n    <div class=\"d-flex\">\r\n      <div class=\"manage-container\">\r\n        <table class=\"manage-item-lists\">\r\n          <thead>\r\n            <tr>\r\n              <th class=\"item_detail\">商品</th>\r\n              <th class=\"price\">單價</th>\r\n              <th class=\"count\">庫存</th>\r\n              <th class=\"amount\">類別</th>\r\n              <th class=\"operate\">編輯</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody class=\"scrollable-tbody\">\r\n            <tr v-for=\"(item, index) in products\" :key=\"item.name\">\r\n              <td class=\"item_detail\">\r\n                <a :href=\"`/product/${item.name}`\">\r\n                  <img :src=\"item.image\" alt=\"\" />\r\n                  <div class=\"name\">\r\n                    <span>{{ item.name }}</span>\r\n                  </div>\r\n                </a>\r\n              </td>\r\n              <td class=\"price\">{{ item.price }}</td>\r\n              <td class=\"count\">\r\n                <button\r\n                  class=\"btn dels\"\r\n                  @click=\"reduceitem(item, index)\"\r\n                  v-if=\"item.edit\"\r\n                >\r\n                  -\r\n                </button>\r\n                {{ item.qty }}\r\n                <button\r\n                  class=\"btn adds\"\r\n                  @click=\"additem(item, index)\"\r\n                  v-if=\"item.edit\"\r\n                >\r\n                  +\r\n                </button>\r\n              </td>\r\n\r\n              <td class=\"amount\">{{ item.category }}</td>\r\n              <td class=\"operate\">\r\n                <button\r\n                  data-bs-toggle=\"modal\"\r\n                  data-bs-target=\"#exampleModal\"\r\n                  class=\"btn btn-outline-success btn-sm operate\"\r\n                  @click=\"edititem(item, index)\"\r\n                >\r\n                  <i class=\"bx bx-edit\"></i>\r\n                </button>\r\n                <button\r\n                  class=\"btn btn-outline-danger btn-sm operate\"\r\n                  @click=\"deleteitem(item, index)\"\r\n                >\r\n                  <i class=\"bx bxs-trash\"></i>\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"exampleModal\"\r\n    ref=\"myModalRef\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <div class=\"modal-dialog modal-dialog-centered modal-xl\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">修改產品內容</h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <!-- 上传图片 -->\r\n          <div class=\"mb-3 image-block\">\r\n            <img\r\n              v-if=\"editedProduct.imageURL != null\"\r\n              :src=\"editedProduct.imageURL\"\r\n              alt=\"Uploaded Image\"\r\n              class=\"mt-3 modal-img\"\r\n            />\r\n            <img\r\n              v-else\r\n              :src=\"editedProduct.image\"\r\n              alt=\"Uploaded Image\"\r\n              class=\"mt-3 modal-img\"\r\n            />\r\n            <input\r\n              type=\"file\"\r\n              ref=\"imageInput\"\r\n              class=\"form-control\"\r\n              id=\"productImage\"\r\n              accept=\"image/*\"\r\n              @change=\"handleImageUpload\"\r\n            />\r\n          </div>\r\n          <!-- 商品名称 -->\r\n          <div class=\"mb-3\">\r\n            <label for=\"productName\" class=\"form-label\">商品名稱</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"productName\"\r\n              v-model=\"editedProduct.name\"\r\n            />\r\n          </div>\r\n          <!-- 价格 -->\r\n          <div class=\"mb-3\">\r\n            <label for=\"productPrice\" class=\"form-label\">金額</label>\r\n            <input\r\n              type=\"number\"\r\n              class=\"form-control\"\r\n              id=\"productPrice\"\r\n              v-model=\"editedProduct.price\"\r\n            />\r\n          </div>\r\n          <!-- 库存 -->\r\n          <div class=\"mb-3\">\r\n            <label for=\"productStock\" class=\"form-label\">庫存</label>\r\n            <input\r\n              type=\"number\"\r\n              class=\"form-control\"\r\n              id=\"productStock\"\r\n              v-model=\"editedProduct.qty\"\r\n            />\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"productDescription\" class=\"form-label\">商品描述</label>\r\n            <textarea\r\n              type=\"number\"\r\n              class=\"form-control\"\r\n              id=\"productDescription\"\r\n              v-model=\"editedProduct.description\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            關閉\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            data-bs-dismiss=\"modal\"\r\n            class=\"btn btn-primary\"\r\n            @click=\"saveEditedProduct\"\r\n          >\r\n            保存\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <footer class=\"footer\">\r\n    <p>&copy; 2023 Your Website. All rights reserved.</p>\r\n  </footer>\r\n</template>\r\n<style lang=\"scss\">\r\n@import './assets/all';\r\n@import url('https://unpkg.com/boxicons@latest/css/boxicons.min.css');\r\n@import url('https://fonts.googleapis.com/css2?family=Catamaran&family=Inter&family=Kalam:wght@400;700&family=Niramit:wght@600&family=Noto+Sans+TC&family=Open+Sans:wght@300;400;600&display=swap');\r\n\r\nli {\r\n  font-size: 1.25rem;\r\n  text-decoration: none;\r\n}\r\n.navbar-nav .dropdown:hover .dropdown-menu {\r\n  display: block;\r\n}\r\n\r\n:root {\r\n  --bg-color: white;\r\n  --text-color: black;\r\n  --main-color: #c8815f;\r\n  --big-font: 4.5rem;\r\n  --h2-font: 3.3rem;\r\n  --h3-font: 2rem;\r\n  --normal-font: 1rem;\r\n}\r\nbody {\r\n  background: var(--bg-color);\r\n  color: var(--text-color);\r\n}\r\n.bx {\r\n  font-size: 1.5rem;\r\n}\r\n.operate {\r\n  margin-right: 5px;\r\n}\r\n.image-block {\r\n  box-sizing: border-box;\r\n\r\n  text-align: center;\r\n}\r\n.image-block img {\r\n  width: 100%;\r\n  padding: 5px;\r\n}\r\nheader {\r\n  width: 100%;\r\n  top: 0;\r\n  right: 0;\r\n  z-index: 1000;\r\n  position: fixed;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n\r\n  background: transparent;\r\n  // padding: 20px 14%;\r\n  padding: 8px 14%;\r\n  transition: all 0.35s ease;\r\n}\r\n.logo {\r\n  font-size: 28px;\r\n  font-weight: 700;\r\n  text-decoration: none;\r\n  letter-spacing: 1px;\r\n  color: var(--text-color);\r\n}\r\n.modal-img {\r\n  text-align: center;\r\n  max-width: 200px;\r\n  max-height: 200px;\r\n\r\n  margin: 5px;\r\n}\r\n@media screen and (max-width: 768px) {\r\n  .navlists {\r\n    display: none;\r\n    flex-direction: column;\r\n    position: absolute;\r\n    top: 50px;\r\n    left: 0;\r\n    width: 100%;\r\n    background-color: #fff;\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n    z-index: 1;\r\n  }\r\n  .boy {\r\n    margin-top: 40vh;\r\n  }\r\n  .nav-active {\r\n    display: flex;\r\n  }\r\n\r\n  .menu-toggle {\r\n    display: block;\r\n    font-size: 24px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .header-icons {\r\n    display: none;\r\n    flex-direction: column;\r\n    position: absolute;\r\n    top: 140px;\r\n    left: 0;\r\n    width: 100%;\r\n    background-color: #fff;\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n    z-index: 1;\r\n  }\r\n}\r\n.navlists {\r\n  display: flex;\r\n  margin-bottom: 0;\r\n}\r\n.navlists a {\r\n  color: var(--text-color);\r\n  font-weight: 600;\r\n  padding: 10px 25px;\r\n  color: var(--text-color);\r\n  transition: all 1s ease;\r\n  text-decoration: none;\r\n}\r\n\r\n.navlists a:hover {\r\n  color: var(--main-color);\r\n}\r\n.header-icons {\r\n  display: flex;\r\n  font-size: 20px;\r\n  color: var(--text-color);\r\n  margin-right: 20px;\r\n  transition: all 0.36s ease;\r\n}\r\n\r\n.header-icons i:hover {\r\n  color: var(--main-color);\r\n}\r\nheader.sticky {\r\n  background: var(--bg-color);\r\n  padding: 8px 14%;\r\n  box-shadow: 0px 0px 10px rgb(0 0 0/10%);\r\n}\r\n.ol,\r\nul,\r\ndl {\r\n  margin-bottom: 0px;\r\n}\r\n.nav-item:hover .sub-menu {\r\n  display: flex;\r\n  position: absolute;\r\n  background-color: #fff; /* 背景颜色，可以根据需要进行调整 */\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* 添加阴影效果，可选 */\r\n  z-index: 1; /* 确保下拉菜单位于其他内容之上 */\r\n}\r\n.sub-menu {\r\n  display: none;\r\n  position: absolute;\r\n  background-color: #fff;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n  z-index: 1;\r\n  top: 100%; /* 使下拉菜单位于服饰链接的下方 */\r\n  left: 0;\r\n  width: 100%; /* 让下拉菜单占满整个宽度 */\r\n  padding: 10px;\r\n  text-align: center;\r\n}\r\n/* 样式化 .sub-menu 中的链接 */\r\n.sub-menu a {\r\n  text-decoration: none; /* 去除下划线 */\r\n  color: #333; /* 文字颜色，可根据需要进行调整 */\r\n  display: inline-block;\r\n  padding: 10px; /* 可根据需要进行调整 */\r\n  text-align: center; /* 文字居中，可选 */\r\n  transition: background-color 0.3s; /* 添加过渡效果，可选 */\r\n}\r\n.manage-item-lists {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  text-align: center;\r\n  margin-right: 5px;\r\n}\r\n/* 链接悬停时改变背景颜色，可选 */\r\n.navlists :hover .sub-menu {\r\n  position: absolute;\r\n  z-index: 9999;\r\n  top: 55px;\r\n  background-color: #fff;\r\n  text-align: center;\r\n  left: 0px;\r\n  padding-left: 10px;\r\n  width: 100vw;\r\n  padding: 10px;\r\n  display: block;\r\n}\r\n.manage-container {\r\n  margin-top: 100px;\r\n  width: 100%;\r\n  max-height: 610px;\r\n  position: relative;\r\n  overflow: scroll;\r\n}\r\n.manage-container::-webkit-scrollbar {\r\n  width: 0.5em;\r\n}\r\n.modal-content {\r\n}\r\n\r\n.loading-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 9999;\r\n}\r\n</style>\r\n<script>\r\nimport Navbar from '../components/NavBar.vue';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nexport default {\r\n  name: 'HomeView',\r\n  components: {\r\n    Navbar,\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: true,\r\n      products: [],\r\n      editedProduct: {\r\n        id: '',\r\n        name: '',\r\n        price: 0,\r\n        qty: 0,\r\n        imageURL: null,\r\n        image: null, // 用于存储上传的图片\r\n        description: null,\r\n      },\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    async edititem(item, index) {\r\n      let fileName = this.$refs.imageInput;\r\n      fileName.value = '';\r\n\r\n      this.editedProduct.image = null;\r\n      this.editedProduct.imageURL = null;\r\n      this.$refs.myModalRef.classList.add('show');\r\n      console.log(item.image);\r\n      console.log(item);\r\n      this.editedProduct.id = item.id;\r\n      this.editedProduct.name = item.name;\r\n      this.editedProduct.price = item.price;\r\n      this.editedProduct.qty = item.qty;\r\n      this.editedProduct.image = item.image;\r\n      this.editedProduct.description = item.description;\r\n    },\r\n    async getproduct() {\r\n      this.isLoading = true;\r\n      const res = await axios.get('http://localhost:3000/api/products');\r\n      res.data.map((item, i) => (item.edit = 0));\r\n      this.products = res.data;\r\n      this.isLoading = false;\r\n      console.log(res.data);\r\n    },\r\n    handleImageUpload(event) {\r\n      const file = event.target.files[0];\r\n      console.log(this.editedProduct.image);\r\n      console.log(file);\r\n      // 将上传的图片文件存储在editedProduct.image中\r\n      this.editedProduct.image = file;\r\n      // 创建图像URL以在<img>元素中显示图像\r\n      this.editedProduct.imageURL = URL.createObjectURL(file);\r\n      console.log(this.editedProduct);\r\n    },\r\n    async saveEditedProduct() {\r\n      this.isLoading = true;\r\n      // 创建 FormData 对象，并将编辑后的商品数据附加到其中\r\n      let reviseProduct = this.products.find(\r\n        (item) => item.id == this.editedProduct.id\r\n      );\r\n      reviseProduct.name = this.editedProduct.name;\r\n      reviseProduct.price = this.editedProduct.price;\r\n      reviseProduct.qty = this.editedProduct.qty;\r\n\r\n      if (this.editedProduct.imageURL != null) {\r\n        reviseProduct.image = this.editedProduct.imageURL;\r\n      }\r\n      // if (this.editedProduct.imageURL == null) {\r\n      //   this.editedProduct.image.name = reviseProduct.image;\r\n      // }\r\n\r\n      console.log(this.editedProduct.image.name);\r\n      const formData = new FormData();\r\n      console.log(reviseProduct.id);\r\n      console.log(reviseProduct.price);\r\n      formData.append('id', this.editedProduct.id);\r\n      formData.append('name', this.editedProduct.name);\r\n      formData.append('price', this.editedProduct.price);\r\n\r\n      formData.append('stock', this.editedProduct.qty);\r\n      // 将图像文件附加到 FormData 中\r\n      formData.append('image', this.editedProduct.image);\r\n      console.log(formData);\r\n\r\n      try {\r\n        // 使用 Axios 发送 POST 请求，将 FormData 发送给后端 Multer 中间件\r\n        const response = await axios.patch(\r\n          'http://localhost:3000/api/manage/uploads/' +\r\n            this.editedProduct.image.name,\r\n          formData\r\n        );\r\n\r\n        // 处理成功的响应\r\n        // console.log('資料已更新', response);\r\n        this.isLoading = false;\r\n        // this.$refs.myModalRef.classList.remove('show');\r\n        Swal.fire('資料已更新', '', 'success');\r\n      } catch (error) {\r\n        // 处理错误\r\n        console.error('上傳失敗', error);\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.getproduct();\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./ManageView.vue?vue&type=template&id=007be3e7\"\nimport script from \"./ManageView.vue?vue&type=script&lang=js\"\nexport * from \"./ManageView.vue?vue&type=script&lang=js\"\n\nimport \"./ManageView.vue?vue&type=style&index=0&id=007be3e7&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["ref","_hoisted_2","class","_createElementVNode","role","_hoisted_7","_hoisted_26","_hoisted_29","id","tabindex","type","for","_hoisted_1","_hoisted_5","$data","isLoading","_createElementBlock","_hoisted_6","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_Fragment","_renderList","products","item","index","key","name","_hoisted_15","href","src","image","alt","_hoisted_18","_toDisplayString","_hoisted_19","price","_hoisted_20","edit","onClick","$event","_ctx","reduceitem","_hoisted_21","qty","additem","_hoisted_22","_hoisted_23","category","_hoisted_24","$options","edititem","deleteitem","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","editedProduct","imageURL","accept","onChange","_cache","args","handleImageUpload","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","description","_hoisted_47","_hoisted_48","saveEditedProduct","_hoisted_49","components","Navbar","data","methods","fileName","this","$refs","imageInput","value","myModalRef","classList","add","console","log","getproduct","res","axios","get","map","i","event","file","target","files","URL","createObjectURL","reviseProduct","find","formData","FormData","append","patch","Swal","error","created","__exports__","render"],"sourceRoot":""}